<mat-sidenav-container>
  <mat-sidenav [mode]="sideNavCtrl.isMobile ? 'over' : 'side'"
               [opened]="(!sideNavCtrl.isMobile || sideNavCtrl.opened)"
               (openedChange)="sideNavCtrl.opened = $event">
    <mat-toolbar>CFTL Speakers List</mat-toolbar>
    <mat-nav-list>
      <ng-template ngFor let-page [ngForOf]="appPages">
        <a *ngxPermissionsOnly="page.permissions" mat-list-item [routerLink]="page.url" routerLinkActive="active"
           (click)="sideNavCtrl.opened = false">
          <mat-icon mat-list-icon>{{page.icon}}</mat-icon>
          <h4 mat-line>{{page.title}}</h4>
        </a>
      </ng-template>
      <mat-list-item *ngIf="!loggedIn" routerLink="/login" routerLinkActive="active" (click)="sideNavCtrl.opened = false">
        <mat-icon mat-list-icon>exit_to_app</mat-icon>
        <h4 mat-line>Login</h4>
      </mat-list-item>
      <mat-list-item *ngIf="loggedIn" (click)="logout()">
        <mat-icon mat-list-icon>power_settings_new</mat-icon>
        <h4 mat-line>Logout</h4>
      </mat-list-item>
    </mat-nav-list>
  </mat-sidenav>
  <mat-sidenav-content>
    <router-outlet></router-outlet>
  </mat-sidenav-content>
</mat-sidenav-container>
